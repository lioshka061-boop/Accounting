<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Замовлення</title>
  <link rel="stylesheet" href="/styles.css" />
  <script defer src="/main.js"></script>

  <style>
    /* ====== DARK THEME BASE ====== */
    body {
      margin: 0;
      background: #0f0f10;
      font-family: Inter, sans-serif;
      display: flex;
      color: #e8e8e8;
    }

    /* ====== SIDEBAR ====== */
    .sidebar {
      width: 240px;
      background: #141416;
      border-right: 1px solid #2b2c2e;
      padding: 20px;
      height: 100vh;
      box-sizing: border-box;
    }

    .sidebar h2 {
      margin: 0 0 20px 0;
      font-size: 22px;
      font-weight: 700;
      color: white;
    }

    .sidebar a {
      display: block;
      padding: 12px 14px;
      margin-bottom: 8px;
      text-decoration: none;
      background: #1c1d1f;
      border-radius: 8px;
      color: #d7d7d7;
      font-size: 15px;
      transition: 0.2s;
      font-weight: 500;
    }

    .sidebar a:hover {
      background: #2f3035;
    }

    .sidebar a.active {
      background: #3b49df;
      color: #fff;
    }

    /* ====== MAIN CONTENT ====== */
    .content {
      flex-grow: 1;
      padding: 30px 40px;
    }

    h1 {
      margin-top: 0;
      font-size: 32px;
      color: #ffffff;
    }

    /* ====== FILTERS ====== */
    .filters {
      margin-bottom: 20px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .filters input,
    .filters select {
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #3b3c3f;
      background: #1a1b1d;
      color: #e8e8e8;
      width: 230px;
      font-size: 14px;
    }

    .filters button {
      padding: 10px 18px;
      background: #3b49df;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
    }

    .filters button:hover {
      background: #2f38b9;
    }

    label {
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* ====== TABLE ====== */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
      background: #1a1b1d;
      border-radius: 10px;
      overflow: hidden;
    }

    th, td {
      padding: 12px 14px;
      font-size: 14px;
    }

    thead {
      background: #222326;
      font-weight: 600;
    }

    tbody tr {
      border-bottom: 1px solid #2b2c2e;
    }

    tbody tr:nth-child(even) {
      background: #151618;
    }

    .table-actions {
      display: flex;
      gap: 6px;
    }

    .table-actions button {
      width: 34px;
      height: 34px;
      border-radius: 8px;
      border: 1px solid #3b3c3f;
      background: #1f1f21;
      cursor: pointer;
      color: #e8e8e8;
      font-size: 16px;
    }

    .table-actions button:hover {
      background: #2c2d31;
    }

    .delete-btn {
      border-color: #ff4d4d;
      color: #ff4d4d;
    }

    .delete-btn:hover {
      background: #3b0000;
    }

    /* ====== MODAL ====== */
    .modal.hidden { display: none; }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      width: 420px;
      background: #1b1c1e;
      padding: 20px;
      border-radius: 12px;
      color: #e8e8e8;
      display: flex;
      flex-direction: column;
      gap: 12px;
      border: 1px solid #2c2c2e;
    }

    .modal-content input,
    .modal-content select {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #3b3c3f;
      background: #141416;
      color: #e8e8e8;
      font-size: 14px;
    }

    .modal-content button {
      padding: 10px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }

    .modal-content .danger {
      background: #ff4d4d;
      color: white;
    }

    .modal-content button:hover {
      opacity: 0.9;
    }

    /* ====== RESPONSIVE ====== */
    @media (max-width: 768px) {
      body { flex-direction: column; }
      .sidebar { width: 100%; height: auto; }
      table { display: block; overflow-x: auto; }
      .filters { flex-direction: column; width: 100%; }
      .filters input, .filters select { width: 100%; }
    }

  </style>
</head>

<body>

<div class="sidebar">
  <h2>Облік</h2>
  <a href="/orders.html" class="active">Замовлення</a>
  <a href="/create-order.html">Нове замовлення</a>
  <a href="/suppliers.html">Постачальники</a>
  <a href="/stats.html">Статистика</a>
  <a href="/index.html">Головна</a>
</div>

<div class="content">
  <h1>Список замовлень</h1>

  <div class="filters">
    <input type="text" id="filter-number" placeholder="Пошук по номеру" />
    <input type="text" id="filter-title" placeholder="Пошук по назві" />
    <select id="filter-supplier"><option value="">Всі постачальники</option></select>
    <label><input type="checkbox" id="filter-returns" /> Показувати повернення</label>

    <button onclick="applyFilters()">Фільтрувати</button>
    <button onclick="resetFilters()">Скинути</button>
  </div>

  <table id="orders-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Номер</th>
        <th>Дата</th>
        <th>Назва</th>
        <th>Продаж</th>
        <th>Опт</th>
        <th>ProSale</th>
        <th>Передплата</th>
        <th>Постачальник</th>
        <th>Баланс</th>
        <th>Прибуток</th>
        <th>Дії</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- MODAL -->
<div id="edit-modal" class="modal hidden">
  <div class="modal-content">
    <h2>Редагувати замовлення</h2>

    <input type="hidden" id="edit-id"/>

    <label>Номер</label>
    <input id="edit-number"/>

    <label>Назва</label>
    <input id="edit-title"/>

    <label>Нотатка</label>
    <input id="edit-note"/>

    <label>Дата</label>
    <input type="date" id="edit-date"/>

    <label>Продаж</label>
    <input type="number" id="edit-sale"/>

    <label>Опт</label>
    <input type="number" id="edit-cost"/>

    <label>ProSale</label>
    <input type="number" id="edit-prosail"/>

    <label>Передплата</label>
    <input type="number" id="edit-prepay"/>

    <label>Постачальник</label>
    <select id="edit-supplier"></select>

    <label><input type="checkbox" id="edit-promoPay"/> Промоплата</label>
    <label><input type="checkbox" id="edit-ourTTN"/> Наша ТТН</label>
    <label><input type="checkbox" id="edit-fromSupplier"/> Від постачальника</label>

    <label><input type="checkbox" id="edit-return"/> Повернення</label>

    <label>Доставка повернення</label>
    <input type="number" id="edit-returnDelivery"/>

    <button onclick="saveEditedOrder()">Зберегти</button>
    <button class="danger" onclick="closeModal()">Закрити</button>
  </div>
</div>

</body>
</html>
